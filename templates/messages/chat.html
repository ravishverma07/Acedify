<h1 style="text-align: center; color: #2c3e50; font-family: Arial, sans-serif; margin-bottom: 20px;">
    Chat with {{ receiver.username }}
</h1>
<div style="border: 1px solid #dcdcdc; border-radius: 10px; padding: 20px; max-width: 600px; margin: 0 auto; background-color: #f9f9f9;">
    {% for message in messages %}
        {% if message.sender == request.user %}
            <!-- Current user's messages -->
            <div style="text-align: right; margin: 10px 0;">
                <p style="display: inline-block; max-width: 70%; padding: 10px; background-color: #3498db; color: #ffffff; border-radius: 10px; font-family: Arial, sans-serif; font-size: 14px; text-align: left;">
                    <strong>You:</strong> {{ message.content }}
                </p>
            </div>
        {% else %}
            <!-- Other user's messages -->
            <div style="text-align: left; margin: 10px 0;">
                <p style="display: inline-block; max-width: 70%; padding: 10px; background-color: #ecf0f1; color: #2c3e50; border-radius: 10px; font-family: Arial, sans-serif; font-size: 14px; text-align: left;">
                    <strong>{{ message.sender.username }}:</strong> {{ message.content }}
                </p>
            </div>
        {% endif %}
    {% endfor %}
</div>
<form method="post" style="margin: 20px auto; max-width: 600px; padding: 10px; border: 1px solid #dcdcdc; border-radius: 10px; background-color: #ffffff;">
    {% csrf_token %}
    <textarea name="content" required style="width: 100%; height: 100px; font-family: Arial, sans-serif; font-size: 14px; border: 1px solid #dcdcdc; border-radius: 5px; padding: 10px;"></textarea>
    <button type="submit" style="margin-top: 10px; width: 100%; padding: 10px; background-color: #3498db; color: #ffffff; border: none; border-radius: 5px; font-family: Arial, sans-serif; font-size: 16px; cursor: pointer;">
        Send
    </button>
</form>

<a href="{% url 'user_list' %}" style="display: block; text-align: center; margin-top: 20px; color: #3498db; font-family: Arial, sans-serif; text-decoration: none; font-size: 24px;">
    Back to Users
</a>
